<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<title>Tâches</title>

	<meta name="author" content="Lys Spiral">
	<meta name="description" content="Liste de tâches">

	<link rel="icon" href="./img/lys_spiral_50x50_72.png" type="image/png">
	<!-- Lien vers la page Bootstrap-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
		
	<!-- Lien vers la page CSS-->
	<link rel="stylesheet" href="./css/todolist.css">

	<script type="module" src="./js/main.js"></script>


</head>
<body>

<div id="wrapper">

<div id="modal" class="modal">
	<span id="modalCloseBtn" class="close" title="Close Modal">&times;</span>
		<div id="modalContent" class="container modal-content">
      	<h3 id="modalTitle"></h3>
      	<p id="modalQuestion"></p>
      	<textarea id="modalComment" name="modalComment" class="input-style modal-comment" rows="5" width="90%" wrap="soft"> 
		</textarea>
      	<div class="clearfix">
        	<button type="button" id="modalCancelBtn" class="pull-left btn-warning">Annuler</button>
        	<button type="button" id="modalBtnOK" class="pull-right btn-success hidden-by-default">OK</button>
        	<button type="button" id="modalBtnChoice2" class="pull-right btn-success">Choix 2</button>
        	<button type="button" id="modalBtnChoice1" class="pull-right btn-primary">Choix 1</button>
      	</div>
    </div>
</div>

<div id="grey-line-top" class="grey-line">
	<p id="back-link-top" class="link-to-recap">Retour au portfolio</p>
</div>
<div id="black-line-top" class="black-line">
	<span>&nbsp;</span>
</div>

		
	<header>
		<div id="banner-header">
			<div class="text-banner">
				<p>Tableau de bord</p>
			</div>
		</div>
	</header>


<!-- main - DEBUT -->	
<div id="main">


<!-- pageContainer - DEBUT -->	
<div id="pageContainer" class="container-fluid bg-light">


<!-- Zone ToDoList - DEBUT -->	
<div id="toDoList">
<div class="accordion" id="accordionToDoList">
<div id="ToDoList" class="card border-0" >
<div id="headingToDoList" class="card-header">
	<h2 id="titleToDoList">
		<button id="btnToDoList" class="btn btn-block text-left font-weight-bold accordion-heading" type="button" data-toggle="collapse" data-target="#collapseToDoList" aria-expanded="true" aria-controls="collapseToDoList">
			Gestion des tâches
		</button>
	</h2>
</div> <!-- Zone headingToDoList - FIN -->	

<div id="collapseToDoList" class="collapse show" aria-labelledby="headingToDoList" data-parent="#accordionToDoList">
<div id="bodyToDoList" class="card-body">

<div id="fileMnt" class="bordered-div"> <!-- Zone fileMnt - DEBUT -->
	<h4>
	<label for="taskExtListFile" class="btn btn-primary" role="button">Importer depuis un fichier CSV </label>	
	<input type="file" accept=".csv" name="taskExtListFile" value="Récupérer une liste externe" id="taskExtListFile" >

	<button id="exportList" class="btn btn-success pull-right taskBtn" disabled>Exporter la liste vers un fichier CSV </button>
</div>  <!-- Zone fileMnt - FIN -->

<div id="taskMnt" class="bordered-div"> <!-- Zone taskMnt - DEBUT -->
	<h4>
	<button id="createListBtn" class="btn btn-primary ">Créer une liste </button>

	<button id="addToDoListItem" class="btn btn-light taskBtn" disabled>Ajouter une tâche </button>

	<button id="cleartaskObjSt" class="btn btn-danger pull-right taskBtn" disabled>Effacer les données </button>

	</h4>
</div>  <!-- Zone taskMnt - FIN -->

<div id="formAddTaskDiv" class="card-body bordered-div hidden-by-default">
	<h4>Ajouter une tâche
	<button id="hideFormAddTaskDiv" class="btn btn-light pull-right">Cacher la zone de d'ajout </button>
	</h4>
	<p>&nbsp;</p>

	<form id="formAddTask" action="" method="POST" onsubmit="return false;">
		<table id="formAddTaskTable" width="100%">
			<tr>
				<td colspan="2">
					<p>
					<label for="input-tk-date" class="label-input" >Date</label> 
					<span id="creationDate"></span>
					</p>
				</td>
				<td width="55%">
					<p>
					<label for="input-tk-deadline" class="label-input" >Échéance* </label>	
					<input id="input-tk-deadline" name="input-tk-deadline" type="date" class="input-style" required>
					</p>
				</td>
			</tr>

			<tr>
				<td>
					<p>
						<label for="input-tk-id" class="label-input" >ID</label>
						<span id="generatedId"></span>
					</p>
				</td>
				<td colspan="2">
					<p>
					<label for="input-tk-text" class="label-input task-input" >Tâche* (sans virgules) </label><input id="input-tk-text" name="input-tk-text" type="text" class="input-style"  size="40" maxlength="500" required>
					</p>	
				</td>
			</tr>

			<tr>
				<td width="33%">
					<p>
					<label for="input-tk-status" class="label-input" >Statut</label>

					<select id="input-tk-status" name="input-tk-status">
		
					</select>			
					</p>
				</td>
				<td width="33%">
					<p>
					<label for="input-tk-domain" class="label-input" >Domaine</label>			

					<input list="domainOptions" id="input-tk-domain" name="input-tk-domain">
					<datalist id="domainOptions">
					</datalist>
					</p>
				</td>
				<td width="33%">
					<p>
					<label for="input-tk-progress" class="label-input" >Progression</label>			
					<select id="input-tk-progress" name="input-tk-progress">
					</select>
					</p>	
				</td>
			</tr>

			<tr>
				<td colspan="3">
					<label for="input-tk-comment" class="label-input label-textarea" >Commentaires <br> (sans virgules) </label>			
					<textarea id="input-tk-comment" name="input-tk-comment" class="input-style" rows="5" cols="50"wrap="soft">Commentaires à venir
					</textarea>
				</td>

			</tr>
			<tr>
				<td colspan="2">
					<input type="reset" class="btn btn-warning" value="Effacer">
				</td>
				<td colspan="1">
					<button id="submitBtnAdd" input="submit" class="btn btn-success pull-right">Ajouter </button>
				</td>
			</tr>
		</table>
	</form>
</div> <!-- Zone formAddTask - FIN -->

<div id="formUpdateTaskDiv" class="card-body bordered-div hidden-by-default">
	<h4> Voir les détails / Modifier une tâche
		<button id="hideFormUpdateTaskDiv" class="btn btn-light pull-right">Cacher la zone de modification </button>
	</h4>
	<p>&nbsp;</p>


	<form id="formUpdateTask" action="" method="POST" onsubmit="return false;">
		<table id="formUpdateTaskTable" width="100%">
			<tr>
				<td colspan="1">
					<p>
					<label for="updCreationDate" class="label-input" >Date</label> 
					<span id="updCreationDate"></span>
					</p>
				</td>
				<td colspan="1">
					<p>
					<label for="updUpdateTime" class="label-input" >Dernière MAJ</label> 
					<span id="updUpdateTime"></span>
					</p>
				</td>
				<td width="55%">
					<p>
					<label for="input-upd-tk-deadline" class="label-input" >Échéance* </label>	
					<input id="input-upd-tk-deadline" name="input-upd-tk-deadline" type="date" class="input-style" required>
					</p>
				</td>
			</tr>

			<tr>
				<td>
					<p>
						<label for="updTkId" class="label-input" >ID</label>
						<span id="updTkId"></span>
					</p>
				</td>
				<td colspan="2">
					<p>
					<label for="input-upd-tk-text" class="label-input task-input" >Tâche* (sans virgules)</label>
					<input id="input-upd-tk-text" name="input-upd-tk-text" type="text" class="input-style"  size="40" maxlength="500" required>
					</p>	
				</td>
			</tr>

			<tr>
				<td width="33%">
					<p>
					<label for="input-upd-tk-status" class="label-input" >Statut</label>

					<select id="input-upd-tk-status" name="input-upd-tk-status">

					</select>			
					</p>
				</td>
				<td width="33%">
					<p>
					<label for="input-upd-tk-domain" class="label-input" >Domaine</label>			
					<input list="domainOptions" id="input-upd-tk-domain" name="input-upd-tk-domain">
					<datalist id="domainOptions">
					</datalist>
					</p>
				</td>
				<td width="33%">
					<p>
					<label for="input-upd-tk-progress" class="label-input" >Progression</label>			
					<select id="input-upd-tk-progress" name="input-upd-tk-progress">

					</select>
					</p>	
				</td>
			</tr>

			<tr>
				<td colspan="2">
					<label for="input-upd-tk-comment" class="label-input label-textarea" >Commentaires <br> (sans virgules) </label>			
					<textarea id="input-upd-tk-comment" name="input-upd-tk-comment" class="input-style" rows="5" cols="50"wrap="soft">Commentaires à venir 
					</textarea>
				</td>
				<td id="closing-date-cell">
					
					<label for="updClosingDate" class="label-input" >Clôture</label> 
					<span id="updClosingDate"></span>
					
					
				</td>
			</tr>

			<tr>
				<td colspan="3">
					<button id="submitBtnUpdate" input="submit" class="btn btn-success pull-right">Enregistrer les modifications </button>
				</td>
			</tr>
		</table>
	</form>
</div> <!-- Zone formUpdateTask - FIN -->


<div id="displayMnt">
	<div id="progressFilters" class="bordered-div hidden-by-default">
		<h4>

		<button id="showOpenToDoListItem" class="btn btn-primary taskBtn" disabled>Voir les tâches en cours </button>

		<button id="showClosedToDoListItem" class="btn btn-success taskBtn" disabled>Voir les tâches fermées </button>

		<button id="showOpenToDoListItemByDeadline" class="btn btn-light taskBtn" disabled>Classer les tâches en cours par échéance</button>

		<button id="showAllToDoListItem" class="btn btn-light pull-right taskBtn" disabled>Voir toutes les tâches </button>
		</h4>
	</div>
	<div id="currentDisplay">
		<p><strong>Affichage en cours : <span id="currentDisplayText"></span></strong></p>
	</div>
</div> 
<!-- Zone displayMnt - FIN -->

<div id="tasksTable">
	<table id="tableToDoList">
		<tr id = "tasksTableHeaders">
			<th class="toDoList-th">#</th>
			<th class="toDoList-th">Créé le</th>
			<th class="toDoList-th">Tâche</th>
			<th class="toDoList-th">Domaine</th>
			<th class="toDoList-th">Statut</th>
			<th class="toDoList-th">Echéance</th>
			<th class="toDoList-th">Progression</th>
			<th class="toDoList-th actions-col">Actions</th>
		</tr>

		<tr id="taskList">

		</tr>
	</table>
</div> <!-- div tasksTable - FIN -->

</div> <!-- div bodyToDoList - FIN -->
	<p>&nbsp;</p>
</div> <!-- div collapseToDoList - FIN -->

</div>
</div> <!-- div accordionToDoList - FIN -->
</div> <!-- div ToDoList - FIN -->

</div> <!-- Container - FIN -->
			
</div><!-- Main - FIN -->



<footer>
	<div id="banner-footer">
		<div class="text-banner">
			<p>© 2021 - Lys Spiral</p>
		</div>
	</div>
</footer>

</div> <!-- Wrapper - FIN -->


<!-- SCRIPTS -->

	<!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

<!-- SCRIPTS - FIN -->

</body>
</html>